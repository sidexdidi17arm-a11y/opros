# Система статистики опроса приборов учёта ФЭС

## Описание
Веб-приложение для сбора и анализа статистики опроса приборов учёта по ФЭС ПАО "Россети-Юг".

## Функциональность
- Ввод еженедельных данных по каждому ФЭС
- Статистический анализ показателей
- Графическое представление данных
- Генерация отчетов
- История всех введенных данных
- Ролевая система (администратор/наблюдатель)

## Установка на Render.com

### 1. Подготовка проекта
1. Создайте новую папку для проекта
2. Скопируйте все файлы из структуры выше в соответствующие подпапки
3. Убедитесь, что структура папок соответствует указанной

### 2. Создание базы данных на Render.com
1. Войдите в Render.com
2. Создайте новый PostgreSQL database:
   - Нажмите "New +"
   - Выберите "PostgreSQL"
   - Введите имя базы данных: `opros`
   - Выберите регион (ближайший к вашим пользователям)
   - Нажмите "Create Database"
3. После создания, скопируйте "External Database URL"

### 3. Развертывание бэкенда
1. Создайте новый Web Service на Render.com:
   - Нажмите "New +"
   - Выберите "Web Service"
   - Подключите ваш GitHub репозиторий
   - Настройки:
     - **Name:** `survey-app-backend`
     - **Environment:** `Node`
     - **Build Command:** `npm install`
     - **Start Command:** `node server/server.js`
     - **Root Directory:** `server/` (если вы загрузили всю структуру)
   - Добавьте переменные окружения:
     - `DATABASE_URL` = ваш External Database URL
     - `PORT` = `10000`
   - Нажмите "Create Web Service"

### 4. Настройка базы данных
1. Подключитесь к вашей PostgreSQL базе данных
2. Выполните SQL команды из `database/schema.sql`
3. (Опционально) Выполните `database/seeds.sql` для тестовых данных

### 5. Развертывание фронтенда
1. Создайте новый Static Site на Render.com:
   - Нажмите "New +"
   - Выберите "Static Site"
   - Подключите ваш GitHub репозиторий
   - Настройки:
     - **Name:** `survey-app-frontend`
     - **Build Command:** (оставьте пустым)
     - **Publish Directory:** `public/`
   - Нажмите "Create Static Site"

### 6. Настройка CORS и прокси
В файле `public/js/app.js` измените `apiBaseUrl`:
```javascript
this.apiBaseUrl = 'https://survey-app-backend.onrender.com/api';